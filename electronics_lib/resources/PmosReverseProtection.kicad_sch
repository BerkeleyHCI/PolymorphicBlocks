(kicad_sch (version 20230121) (generator eeschema)

  (uuid b55f6c44-5d5d-4524-bb86-893662f64598)

  (paper "A4")

  (lib_symbols
    (symbol "Device:Q_PMOS_DGS" (pin_numbers hide) (pin_names (offset 0) hide) (in_bom yes) (on_board yes)
      (property "Reference" "Q" (at 5.08 1.27 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "Q_PMOS_DGS" (at 5.08 -1.27 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (at 5.08 2.54 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "transistor PMOS P-MOS P-MOSFET" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "P-MOSFET transistor, drain/gate/source" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "Q_PMOS_DGS_0_1"
        (polyline
          (pts
            (xy 0.254 0)
            (xy -2.54 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.254 1.905)
            (xy 0.254 -1.905)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 -1.27)
            (xy 0.762 -2.286)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 0.508)
            (xy 0.762 -0.508)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 2.286)
            (xy 0.762 1.27)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.54 2.54)
            (xy 2.54 1.778)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.54 -2.54)
            (xy 2.54 0)
            (xy 0.762 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 1.778)
            (xy 3.302 1.778)
            (xy 3.302 -1.778)
            (xy 0.762 -1.778)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.286 0)
            (xy 1.27 0.381)
            (xy 1.27 -0.381)
            (xy 2.286 0)
          )
          (stroke (width 0) (type default))
          (fill (type outline))
        )
        (polyline
          (pts
            (xy 2.794 -0.508)
            (xy 2.921 -0.381)
            (xy 3.683 -0.381)
            (xy 3.81 -0.254)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 3.302 -0.381)
            (xy 2.921 0.254)
            (xy 3.683 0.254)
            (xy 3.302 -0.381)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (circle (center 1.651 0) (radius 2.794)
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (circle (center 2.54 -1.778) (radius 0.254)
          (stroke (width 0) (type default))
          (fill (type outline))
        )
        (circle (center 2.54 1.778) (radius 0.254)
          (stroke (width 0) (type default))
          (fill (type outline))
        )
      )
      (symbol "Q_PMOS_DGS_1_1"
        (pin passive line (at 2.54 5.08 270) (length 2.54)
          (name "D" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -5.08 0 0) (length 2.54)
          (name "G" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 2.54 -5.08 90) (length 2.54)
          (name "S" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:R" (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "R" (at 2.032 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "R" (at 0 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at -1.778 0 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "R res resistor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Resistor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "R_*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_0_1"
        (rectangle (start -1.016 -2.54) (end 1.016 2.54)
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
      )
      (symbol "R_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 154.94 81.28) (diameter 0) (color 0 0 0 0)
    (uuid ad2e6530-e11d-4796-af13-3f73c9483a30)
  )
  (junction (at 166.37 73.66) (diameter 0) (color 0 0 0 0)
    (uuid bdf646d3-3319-455c-a057-19facb99407a)
  )

  (wire (pts (xy 154.94 90.17) (xy 154.94 93.98))
    (stroke (width 0) (type default))
    (uuid 39d00e79-8786-405f-877f-7b931bf682dc)
  )
  (wire (pts (xy 143.51 73.66) (xy 149.86 73.66))
    (stroke (width 0) (type default))
    (uuid 70f1537a-8375-476b-abc3-0ffcb6d8444b)
  )
  (wire (pts (xy 154.94 81.28) (xy 154.94 82.55))
    (stroke (width 0) (type default))
    (uuid 72b4400a-873d-41c8-886d-c6197d219246)
  )
  (wire (pts (xy 135.89 91.44) (xy 138.43 91.44))
    (stroke (width 0) (type default))
    (uuid 864c531c-87c9-485b-a44e-d9aa537f522b)
  )
  (wire (pts (xy 154.94 81.28) (xy 166.37 81.28))
    (stroke (width 0) (type default))
    (uuid 969932bb-d653-468e-8fa7-ae1280b9e924)
  )
  (wire (pts (xy 166.37 73.66) (xy 166.37 81.28))
    (stroke (width 0) (type default))
    (uuid 9b064dfc-a209-46b5-8578-00d04636e159)
  )
  (wire (pts (xy 160.02 73.66) (xy 166.37 73.66))
    (stroke (width 0) (type default))
    (uuid c7edf471-f510-4ced-ae0e-fa0b4de75aca)
  )
  (wire (pts (xy 166.37 73.66) (xy 176.53 73.66))
    (stroke (width 0) (type default))
    (uuid f3627e85-27db-4178-ab45-ee4f7a187e6a)
  )

  (text "The PMOS circuit for reverse protection can be used without a Zener diode. \nHowever, in that case you need ensure that the Vgs (gate-source voltage) does not exceed the maximum rating of the PMOS transistor to prevent damage. "
    (at 77.47 106.68 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 06f630c2-51f6-469f-9bf9-ddace2ceb08d)
  )
  (text "The PMOS circuit for reverse protection works by using a PMOS transistor as a switch.\n When the power supply is correctly connected, the gate-source voltage (Vgs) of the PMOS is negative, \nturning it on and allowing current to flow to the load. If the power supply polarity is reversed, \nVgs becomes positive, turning the PMOS off and disconnecting the load from the power supply, thus protecting the circuit from damage. \n"
    (at 77.47 46.99 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 192061b9-a88a-4a8d-a8f8-20105931d919)
  )
  (text "PMOS reverse protection circuit. \nThe merit of using a PMOS transistor for reverse voltage protection over a simple diode is that the PMOS is more efficient. \nWhile a Schottky diode can protect against reverse polarity, it has a constant voltage drop and power loss, making it less efficient.\nhttps://components101.com/articles/design-guide-pmos-mosfet-for-reverse-voltage-polarity-protectionhttps://components101.com/articles/design-guide-pmos-mosfet-for-reverse-voltage-polarity-protection\n"
    (at 77.47 64.77 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 1da01f70-7afb-4f15-b974-6c1835e03c06)
  )

  (hierarchical_label "pwr_in" (shape input) (at 143.51 73.66 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 7e701471-7566-4ec7-bc5d-01c4b5f88ebf)
  )
  (hierarchical_label "pwr_out" (shape output) (at 176.53 73.66 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid a47934db-1933-4fca-a88e-84db51cda995)
  )
  (hierarchical_label "gnd" (shape input) (at 135.89 91.44 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid ffdf205e-8c01-42f5-9c74-59c89b39b0dd)
  )

  (symbol (lib_id "Device:R") (at 154.94 86.36 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 11d043ae-68aa-42cf-8f1f-28f159fc26c5)
    (property "Reference" "res" (at 156.21 83.82 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "~" (at 157.48 87.6299 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (at 153.162 86.36 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 154.94 86.36 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid b02e1948-9b37-4cb6-bf64-0c78c0d46648))
    (pin "2" (uuid ee2b34a0-a4b8-49c0-8f51-691ed039f813))
    (instances
      (project "PmosReverseProtection"
        (path "/b55f6c44-5d5d-4524-bb86-893662f64598"
          (reference "res") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:GND") (at 154.94 93.98 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 249a0bbc-9f7c-4275-b4f3-393dbf37d48b)
    (property "Reference" "#PWR0101" (at 154.94 100.33 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 152.4 93.98 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 154.94 93.98 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 154.94 93.98 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 93cb6b9d-dc3c-4212-bdb2-14b9fbce5dfd))
    (instances
      (project "PmosReverseProtection"
        (path "/b55f6c44-5d5d-4524-bb86-893662f64598"
          (reference "#PWR0101") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:Q_PMOS_DGS") (at 154.94 76.2 90) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 39f44928-01d2-4e2e-9e28-a7bb035b6c2b)
    (property "Reference" "fet" (at 157.48 78.74 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "~" (at 154.94 67.31 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 152.4 71.12 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 154.94 76.2 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 7f8c2cee-fea2-41ff-b75f-a172df0b6682))
    (pin "2" (uuid 2b0a8bef-4d6f-471f-98b7-8ef6481abf6f))
    (pin "3" (uuid 3bdc09c6-a387-4d4b-a900-4d1aa3dc779f))
    (instances
      (project "PmosReverseProtection"
        (path "/b55f6c44-5d5d-4524-bb86-893662f64598"
          (reference "fet") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:GND") (at 138.43 91.44 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid bc23023a-7276-47fe-a42c-9a7cdbf61866)
    (property "Reference" "#PWR0102" (at 138.43 97.79 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 142.24 92.71 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 138.43 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 138.43 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid fcb25af1-9e79-4795-8ac6-618ea9d6ddb8))
    (instances
      (project "PmosReverseProtection"
        (path "/b55f6c44-5d5d-4524-bb86-893662f64598"
          (reference "#PWR0102") (unit 1)
        )
      )
    )
  )

  (sheet_instances
    (path "/" (page "1"))
  )
)
